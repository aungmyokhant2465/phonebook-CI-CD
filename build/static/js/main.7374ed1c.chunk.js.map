{"version":3,"sources":["services/persons.js","components/FilterPerson.js","components/Persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseURL","axios","get","then","res","data","person","post","id","delete","changedData","put","FilterPerson","props","value","filterName","onChange","handlefilterName","Person","handleDelete","name","number","onClick","Persons","filteredPersons","map","handleDeleteOf","PersonForm","createNewPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","styles","error","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","success","Notification","message","style","isError","App","useState","persons","setPersons","setFilteredPersons","setNewName","setNewNumber","setfilterName","notification","setNotification","useEffect","personService","phones","catch","console","log","e","target","toLowerCase","filter","p","includes","preventDefault","find","window","confirm","oldPerson","changedPerson","repalcePersonNumber","createdPerson","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7374ed1c.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export */\nimport axios from 'axios'\n\nconst baseURL = 'api/persons'\n\nconst getAll = () => {\n    return axios.get(baseURL)\n        .then(res => res.data)\n}\n\nconst create = (person) => {\n    return axios.post(baseURL, person)\n        .then(res => res.data)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseURL}/${id}`)\n}\n\nconst update = (changedData) => {\n    return axios.put(`${baseURL}/${changedData.id}`, changedData)\n        .then(res => res.data)\n}\n\nexport default {\n    getAll,\n    create,\n    remove,\n    update\n}","import React from 'react'\n\nconst FilterPerson = (props) => {\n    return (\n        <p>\n            filter shown with <input value={props.filterName} onChange={props.handlefilterName}/>\n        </p>\n    )\n}\n\nexport default FilterPerson","import React from 'react'\n\nconst Person = ({person, handleDelete}) => {\n    return (\n      <p>\n        {person.name} {person.number}\n        <button onClick={handleDelete}>delete</button>\n      </p>\n    )\n}\n\nconst Persons = (props) => {\n    return (\n        <div>\n          {\n            props.filteredPersons.map(person => \n              <Person key={person.name} person={person} handleDelete={() => props.handleDeleteOf(person.id)}/>\n            )\n          }\n        </div>\n      )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({createNewPerson, newName, handleNewName, newNumber, handleNewNumber}) => {\n    return (\n      <form onSubmit={createNewPerson}>\n        <div>\n          name: <input value={newName} onChange={handleNewName}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNewNumber}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = (props) => {\n    if(!props.message) {\n        return null\n    }\n    return (\n        <div style={props.isError ? styles.error : styles.success}>\n            {props.message}\n        </div>\n    )\n}\n\nconst styles = {\n    error: {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    },\n    success: {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nimport FilterPerson from './components/FilterPerson'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filteredPersons, setFilteredPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterName, setfilterName] = useState('')\n  const [notification, setNotification] = useState({})\n\n  const checkExist = (name) => {\n    return persons.find(p => p.name === name)\n  }\n\n  const handleNewName = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const repalcePersonNumber = (name) => {\n    const oldPerson = persons.find(p => p.name === name)\n    const changedPerson = { ...oldPerson, number: newNumber }\n    personService.update(changedPerson)\n      .then(person => {\n        setPersons(persons.map(p => p.id !== person.id ? p : person))\n        setFilteredPersons(persons.map(p => p.id !== person.id ? p : person))\n      })\n  }\n\n  const createNewPerson = (e) => {\n    e.preventDefault()\n    if(checkExist(newName)) {\n      let confirm = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if(confirm) {\n        repalcePersonNumber(newName)\n      }\n      return\n    }\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    personService.create(newPerson)\n      .then(createdPerson => {\n        setNotification({message: `Added ${createdPerson.name}`, isError: false})\n        setTimeout(() => {\n          setNotification({})\n        }, 3000)\n        setPersons(persons.concat(createdPerson))\n        setFilteredPersons(persons.concat(createdPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n  }\n  \n  const handlefilterName = (e) => {\n    setfilterName(e.target.value.toLowerCase())\n    setFilteredPersons(persons.filter(p => p.name.toLowerCase().includes(e.target.value.toLowerCase())))\n  }\n\n  const fetchPersons = () => {\n    personService.getAll()\n      .then(phones => {\n        setPersons(phones)\n        setFilteredPersons(phones)\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  const personDeleteOf = (id) => {\n    let person = persons.find(p => p.id === id)\n    let confirm = window.confirm(`Delete ${person.name} ?`)\n    if(confirm) {\n      personService.remove(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n          setFilteredPersons(persons.filter(p => p.id !== id))\n        })\n        .catch(() => {\n          setNotification({message: `Information of ${person.name} has already been removed from server`, isError: true})\n          setTimeout(() => {\n            setNotification({})\n          }, 3000)\n        })\n    }\n  }\n\n  useEffect(fetchPersons, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} isError={notification.isError} />\n      <FilterPerson filterName={filterName} handlefilterName={handlefilterName}/>\n      <h2>add a new</h2>\n      <PersonForm createNewPerson={createNewPerson} newName={newName} newNumber={newNumber} handleNewName={handleNewName} handleNewNumber={handleNewNumber} />\n      <h2>Numbers</h2>\n      <Persons filteredPersons={filteredPersons} handleDeleteOf={personDeleteOf} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}